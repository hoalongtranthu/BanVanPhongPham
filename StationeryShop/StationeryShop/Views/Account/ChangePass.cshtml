
@{
	ViewBag.Title = "ChangePass";
	Layout = "~/Views/Shared/_LayoutWithoutSidebar.cshtml";
}
<div class="account-info">
	<div class="container">
		<h1>THÔNG TIN TÀI KHOẢN</h1>
		<div class="row">
			<div class="col-12 col-md-4">
				@{ Html.RenderAction("AccountMenu");}
			</div>
			<div class="col-12 col-md-8">
				<div class="form-change-pass">
					<h2 class="text-center fs-5">THAY ĐỔI MẬT KHẨU</h2>
					@if (ViewBag.error!=null)
					{
						<div class="alert alert-danger">
							@ViewBag.error
						</div>
					}
					@if (ViewBag.success!=null)
					{
						<div class="alert alert-success">
							Cập nhật mật khẩu thành công!
						</div>
					}
					<form id="change-pass-form" action="/Account/UpdatePass" method="post">
						<label for="old-pass" class="form-label">Mật khẩu cũ</label>
						<div class="input-group mb-3">
							<span class="input-group-text">
								<i class="bx bx-lock"></i>
							</span>
							<input id="old-pass"
										 type="password"
										 name="old-pass"
										 placeholder="Mật khẩu cũ..."
										 class="form-control"
										 required />
						</div>
						<label for="new-pass" class="form-label">Mật khẩu mới</label>
						<div class="input-group mb-3">
							<span class="input-group-text">
								<i class="bx bx-lock"></i>
							</span>
							<input id="new-pass"
										 type="password"
										 name="new-pass"
										 placeholder="Mật khẩu mới..."
										 class="form-control"
										 required
										 minlength="6" />
						</div>
						<label for="renew-pass" class="form-label">Nhập lại mật khẩu mới</label>
						<div class="input-group mb-3">
							<span class="input-group-text">
								<i class="bx bx-lock"></i>
							</span>
							<input id="renew-pass"
										 type="password"
										 name="renew-pass"
										 placeholder="Nhập lại mật khẩu mới..."
										 class="form-control"
										 required
										 minlength="6" />
							<div class="invalid-feedback">
								Mật khẩu nhập lại không chính xác!
							</div>
						</div>
						<div class="form-action">
							<button type="reset" class="btn btn-secondary">Làm lại</button>
							<button type="submit" class="btn btn-primary">
								Cập nhật
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	var form=document.querySelector("#change-pass-form");
	form.addEventListener("submit",function (e) {
	    e.preventDefault();
	    var pass=document.querySelector("#new-pass");
	    var repass=document.querySelector("#renew-pass");
	    if(pass.value!=repass.value){
	        repass.classList.add("is-invalid");
	        return;
	    }
	    e.currentTarget.submit();
  });
</script>